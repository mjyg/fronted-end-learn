"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const safe_1 = require("colors/safe");
const Table = require('cli-table3');
class ConsoleReporter {
    constructor(options) {
        this.options = options;
    }
    report(clones, statistic = undefined) {
        if (statistic) {
            const table = new Table({
                head: ['Format', 'Files analyzed', 'Total lines', 'Clones found', 'Duplicated lines', '%'],
            });
            Object.keys(statistic.formats)
                .filter((format) => statistic.formats[format].sources)
                .forEach((format) => {
                table.push(ConsoleReporter.convertStatisticToArray(format, statistic.formats[format].total));
            });
            table.push(ConsoleReporter.convertStatisticToArray(safe_1.bold('Total:'), statistic.total));
            console.log(table.toString());
        }
        console.log(safe_1.grey(`Found ${clones.length} clones.`));
    }
    static convertStatisticToArray(format, statistic) {
        return [
            format,
            `${statistic.sources}`,
            `${statistic.lines}`,
            `${statistic.clones}`,
            `${statistic.duplicatedLines}`,
            `${statistic.percentage}%`,
        ];
    }
}
exports.ConsoleReporter = ConsoleReporter;
//# sourceMappingURL=console.js.map